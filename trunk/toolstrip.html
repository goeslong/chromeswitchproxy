<body onload = "onLoad();">
<div class="proxy-button" id="btn" onclick="onClick()">
<img src="proxy_off.png" id="img">
</div>
<script>
function showProxyState(state) {
   var img_src = "proxy_off.png";
   if (state == 1) {
     img_src = "proxy_on.png";
   }
   document.getElementById("img").src = img_src;
}

function onClick() {
  chrome.extension.connect().postMessage({cmd: "ToggleProxyState"});
}

function onLoad() {
 chrome.extension.connect().postMessage({cmd: "GetProxyState"});
}
</script></body>